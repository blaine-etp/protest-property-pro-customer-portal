
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TaxProtest Pro - Professional Property Tax Protest Services</title>
    <meta name="description" content="Professional property tax protest services. No upfront fees, 95% success rate. Save thousands on your property taxes with our guaranteed process." />
    <meta name="author" content="TaxProtest Pro" />

    <meta property="og:title" content="TaxProtest Pro - Lower Your Property Taxes Guaranteed" />
    <meta property="og:description" content="Professional property tax protest services with 95% success rate. No upfront fees, guaranteed results." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <!-- Google Maps Places API -->
    <script>
      function initGooglePlaces() {
        console.log('üó∫Ô∏è Google Places API initialized successfully');
        window.googlePlacesLoaded = true;
        window.dispatchEvent(new Event('googlePlacesLoaded'));
      }
    </script>
    <script>
      // Load Google Maps API with the key from Supabase
      console.log('üîë Starting Google Maps API key fetch...');
      fetch('https://phxgvegpibyjdxsqtdwb.supabase.co/functions/v1/get-google-maps-key')
        .then(response => {
          console.log('üîë API key fetch response status:', response.status);
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          return response.text();
        })
        .then(apiKey => {
          console.log('üîë API key fetched successfully, length:', apiKey.length);
          const script = document.createElement('script');
          script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places&callback=initGooglePlaces`;
          script.async = true;
          script.defer = true;
          script.onerror = function() {
            console.error('‚ùå Failed to load Google Maps script');
            window.googlePlacesLoaded = false;
            window.dispatchEvent(new Event('googlePlacesLoaded'));
          };
          console.log('üó∫Ô∏è Loading Google Maps script...');
          document.head.appendChild(script);
        })
        .catch(error => {
          console.error('‚ùå Failed to load Google Maps API key:', error);
          // Fallback: initialize without Google Maps
          window.googlePlacesLoaded = false;
          window.dispatchEvent(new Event('googlePlacesLoaded'));
        });
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
